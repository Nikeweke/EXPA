{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{203:function(t,e,r){\"use strict\";r.r(e);var i=r(0),a=Object(i.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"div\",{staticClass:\"content\"},[t._m(0),t._v(\" \"),r(\"ul\",[r(\"li\",[r(\"a\",{attrs:{href:\"https://habr.com/ru/company/dataart/blog/262817/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Habr\"),r(\"OutboundLink\")],1)]),t._v(\" \"),r(\"li\",[r(\"a\",{attrs:{href:\"https://dataart.ua/news/autentifikatsiya-i-avtorizatsiya-v-mikroservisny-h-prilozheniyah/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Dataart\"),r(\"OutboundLink\")],1)])]),t._v(\" \"),r(\"p\",[t._v(\"Содержание\")]),t._v(\" \"),t._m(1),t._v(\" \"),r(\"hr\"),t._v(\" \"),t._m(2),t._v(\" \"),t._m(3),t._v(\" \"),t._m(4),t._v(\" \"),t._m(5),t._v(\" \"),t._m(6),t._v(\" \"),t._m(7),t._v(\" \"),t._m(8),t._v(\" \"),t._m(9),t._v(\" \"),t._m(10),t._v(\" \"),r(\"p\",[t._v(\"Работает это по следующему принципу: в веб-приложение включается HTML-форма, в которую пользователь должен ввести свои username/password и отправить их на сервер через HTTP POST для аутентификации. В случае успеха веб-приложение создает session token, который обычно помещается в browser cookies. При последующих веб-запросах session token автоматически передается на сервер и позволяет приложению получить информацию о текущем пользователе для авторизации запроса.\")]),t._v(\" \"),t._m(11),t._v(\" \"),r(\"p\",[t._v(\"Сертификат представляет собой набор атрибутов, идентифицирующих владельца, подписанный certificate authority (CA).\")]),t._v(\" \"),t._m(12),t._v(\" \"),r(\"p\",[t._v(\"Аутентификация по одноразовым паролям обычно применяется дополнительно к аутентификации по паролям для реализации two-factor authentication (2FA). В этой концепции пользователю необходимо предоставить данные двух типов для входа в систему:\")]),t._v(\" \"),t._m(13),t._v(\" \"),r(\"p\",[t._v(\"Этот способ чаще всего используется для аутентификации устройств, сервисов или других приложений при обращении к веб-сервисам. Здесь в качестве секрета применяются ключи доступа (access key, API key) — длинные уникальные строки, содержащие произвольный набор символов, по сути заменяющие собой комбинацию username/password.\")]),t._v(\" \"),t._m(14),t._v(\" \"),r(\"p\",[t._v(\"Такой способ аутентификации чаще всего применяется при построении распределенных систем Single Sign-On (SSO), где одно приложение (service provider или relying party) делегирует функцию аутентификации пользователей другому приложению (identity provider или authentication service). Типичный пример этого способа — вход в приложение через учетную запись в социальных сетях. Здесь социальные сети являются сервисами аутентификации, а приложение доверяет функцию аутентификации пользователей социальным сетям.\")]),t._v(\" \"),t._m(15),t._v(\" \"),t._m(16),t._v(\" \"),t._m(17),t._v(\" \"),r(\"p\",[t._v(\"Как раз эту проблему и позволяет решить стандарт OAuth: он описывает, как приложение путешествий (client) может получить доступ к почте пользователя (resource server) с разрешения пользователя (resource owner). В общем виде весь процесс состоит из нескольких шагов:\")]),t._v(\" \"),t._m(18),t._v(\" \"),t._m(19),t._v(\" \"),t._m(20),t._v(\" \"),t._m(21),t._v(\" \"),r(\"p\",[t._v(\"Существуют несколько способов это сделать:\")]),t._v(\" \"),t._m(22)])},[function(){var t=this.$createElement,e=this._self._c||t;return e(\"h1\",{attrs:{id:\"аутентификации\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#аутентификации\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Аутентификации\")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"ul\",[r(\"li\",[t._v(\"Что такое идентификация, аутентификация, авторизация?\")]),t._v(\" \"),r(\"li\",[t._v(\"Когда использовать?\")]),t._v(\" \"),r(\"li\",[t._v(\"Виды\")]),t._v(\" \"),r(\"li\",[t._v(\"Форматы токенов\")]),t._v(\" \"),r(\"li\",[t._v(\"Стандарты OAuth и OpenID Connect\")]),t._v(\" \"),r(\"li\",[t._v(\"Виды грантов\")]),t._v(\" \"),r(\"li\",[t._v(\"OAuth: если нужно получить данные о пользователе\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"что-такое-идентификация-аутентификация-авторизация\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#что-такое-идентификация-аутентификация-авторизация\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Что такое идентификация, аутентификация, авторизация?\")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"ul\",[r(\"li\",[r(\"em\",[t._v(\"Идентификация\")]),t._v(\" — процесс определения, что за человек перед нами.\")]),t._v(\" \"),r(\"li\",[r(\"em\",[t._v(\"Аутентификация\")]),t._v(\" — процесс подтверждения, что этот человек именно тот, за кого себя выдает.\")]),t._v(\" \"),r(\"li\",[r(\"em\",[t._v(\"Авторизация\")]),t._v(\" — процесс принятия решения о том, что именно этой аутентифицированной персоне разрешается делать.\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"когда-испоnьзовать\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#когда-испоnьзовать\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Когда использовать?\")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"table\",[r(\"thead\",[r(\"tr\",[r(\"th\",[r(\"strong\",[t._v(\"Способ\")])]),t._v(\" \"),r(\"th\",[r(\"strong\",[t._v(\"Основное применение\")])]),t._v(\" \"),r(\"th\",[r(\"strong\",[t._v(\"Протоколы\")])])])]),t._v(\" \"),r(\"tbody\",[r(\"tr\",[r(\"td\",[r(\"strong\",[t._v(\"По паролю\")])]),t._v(\" \"),r(\"td\",[t._v(\"Аутентификация пользователей\")]),t._v(\" \"),r(\"td\",[t._v(\"HTTP, Forms\")])]),t._v(\" \"),r(\"tr\",[r(\"td\",[r(\"strong\",[t._v(\"По сертификатам\")])]),t._v(\" \"),r(\"td\",[t._v(\"Аутентификация пользователей в безопасных приложениях; аутентификация сервисов\")]),t._v(\" \"),r(\"td\",[t._v(\"SSL/TLS\")])]),t._v(\" \"),r(\"tr\",[r(\"td\",[r(\"strong\",[t._v(\"По одноразовым паролям\")])]),t._v(\" \"),r(\"td\",[t._v(\"Дополнительная аутентификация пользователей (для достижения two-factor authentication)\")]),t._v(\" \"),r(\"td\",[t._v(\"Forms\")])]),t._v(\" \"),r(\"tr\",[r(\"td\",[r(\"strong\",[t._v(\"По ключам доступа\")])]),t._v(\" \"),r(\"td\",[t._v(\"Аутентификация сервисов и приложений\")]),t._v(\" \"),r(\"td\",[t._v(\"-\")])]),t._v(\" \"),r(\"tr\",[r(\"td\",[r(\"strong\",[t._v(\"По токенам\")])]),t._v(\" \"),r(\"td\",[t._v(\"Делегированная аутентификация пользователей; делегированная авторизация приложений\")]),t._v(\" \"),r(\"td\",[t._v(\"SAML, WS-Federation, OAuth, OpenID Connect\")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"виды\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#виды\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Виды\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h4\",{attrs:{id:\"http-authentication\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#http-authentication\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" HTTP authentication\")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"ul\",[r(\"li\",[r(\"code\",[t._v(\"Basic\")]),t._v(\" - наиболее простая схема, при которой username и password пользователя передаются в заголовке Authorization в незашифрованном виде (base64-encoded).\")]),t._v(\" \"),r(\"li\",[r(\"code\",[t._v(\"Digest\")]),t._v(\" - Следующим этапом развития технологии стала чуть более сложная система HTTP digest authentication, которая исключает передачу учетных данных в открытом виде — здесь для проверки используется MD5-хеш с некоторыми примесями, что позволяет избежать подбора логина и пароля. Конечно, этот алгоритм выглядит более надежным, но и он подвержен целому ряду не самых сложных атак. Например, вот тут можно почитать об атаках более подробно.\")]),t._v(\" \"),r(\"li\",[r(\"code\",[t._v(\"NTLM\")]),t._v(\" - известная как Windows authentication\")]),t._v(\" \"),r(\"li\",[r(\"code\",[t._v(\"Negotiate\")]),t._v(\" - еще одна схема из семейства Windows authentication, которая позволяет клиенту выбрать между NTLM и Kerberos аутентификацией\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h4\",{attrs:{id:\"forms-authentication\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#forms-authentication\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Forms authentication\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"blockquote\",[e(\"p\",[this._v(\"Для этого протокола нет определенного стандарта\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h4\",{attrs:{id:\"аутентификация-по-сертификатам\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#аутентификация-по-сертификатам\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Аутентификация по сертификатам\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h4\",{attrs:{id:\"аутентификация-по-одноразовым-пароnям\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#аутентификация-по-одноразовым-пароnям\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Аутентификация по одноразовым паролям\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h4\",{attrs:{id:\"аутентификация-по-кnючам-доступа\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#аутентификация-по-кnючам-доступа\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Аутентификация по ключам доступа\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h4\",{attrs:{id:\"аутентификация-по-токенам\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#аутентификация-по-токенам\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Аутентификация по токенам\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"форматы-токенов\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#форматы-токенов\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Форматы токенов\")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"ul\",[r(\"li\",[r(\"p\",[r(\"strong\",[t._v(\"Simple Web Token (SWT)\")]),t._v(\" — наиболее простой формат, представляющий собой набор произвольных пар имя/значение в формате кодирования HTML form. Стандарт определяет несколько зарезервированных имен: Issuer, Audience, ExpiresOn и HMACSHA256. Токен подписывается с помощью симметричного ключа, таким образом оба IP- и SP-приложения должны иметь этот ключ для возможности создания/проверки токена.\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[r(\"strong\",[t._v(\"JSON Web Token (JWT)\")]),t._v(\" — содержит три блока, разделенных точками: заголовок, набор полей (claims) и подпись. Первые два блока представлены в JSON-формате и дополнительно закодированы в формат base64. Набор полей содержит произвольные пары имя/значения, притом стандарт JWT определяет несколько зарезервированных имен (iss, aud, exp и другие). Подпись может генерироваться при помощи и симметричных алгоритмов шифрования, и асимметричных. Кроме того, существует отдельный стандарт, отписывающий формат зашифрованного JWT-токена.\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[r(\"strong\",[t._v(\"Security Assertion Markup Language (SAML)\")]),t._v(\" — определяет токены (SAML assertions) в XML-формате, включающем информацию об эмитенте, о субъекте, необходимые условия для проверки токена, набор дополнительных утверждений (statements) о пользователе. Подпись SAML-токенов осуществляется при помощи ассиметричной криптографии. Кроме того, в отличие от предыдущих форматов, SAML-токены содержат механизм для подтверждения владения токеном, что позволяет предотвратить перехват токенов через man-in-the-middle-атаки при использовании незащищенных соединений.\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"стандарты-oauth-и-openid-connect\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#стандарты-oauth-и-openid-connect\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Стандарты OAuth и OpenID Connect\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ol\",[e(\"li\",[e(\"p\",[this._v(\"Пользователь (resource owner) дает разрешение приложению (client) на доступ к определенному ресурсу в виде гранта. Что такое грант, рассмотрим чуть ниже.\")])]),this._v(\" \"),e(\"li\",[e(\"p\",[this._v(\"Приложение обращается к серверу авторизации и получает токен доступа к ресурсу в обмен на свой грант. В нашем примере сервер авторизации — Google. При вызове приложение дополнительно аутентифицируется при помощи ключа доступа, выданным ему при предварительной регистрации.\")])]),this._v(\" \"),e(\"li\",[e(\"p\",[this._v(\"Приложение использует этот токен для получения требуемых данных от сервера ресурсов (в нашем случае — сервис Gmail).\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"виды-грантов\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#виды-грантов\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Виды грантов\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[e(\"p\",[this._v(\"Authorization Code — этот грант пользователь может получить от сервера авторизации после успешной аутентификации и подтверждения согласия на предоставление доступа. Такой способ наиболее часто используется в веб-приложениях. Процесс получения гранта очень похож на механизм аутентификации пассивных клиентов в SAML и WS-Federation.\")])]),this._v(\" \"),e(\"li\",[e(\"p\",[this._v(\"Implicit — применяется, когда у приложения нет возможности безопасно получить токен от сервера авторизации (например, JavaScript-приложение в браузере). В этом случае грант представляет собой токен, полученный от сервера авторизации, а шаг № 2 исключается из сценария выше.\")])]),this._v(\" \"),e(\"li\",[e(\"p\",[this._v(\"Resource Owner Password Credentials — грант представляет собой пару username/password пользователя. Может применяться, если приложение является «интерфейсом» для сервера ресурсов (например, приложение — мобильный клиент для Gmail).\")])]),this._v(\" \"),e(\"li\",[e(\"p\",[this._v(\"Client Credentials — в этом случае нет никакого пользователя, а приложение получает доступ к своим ресурсам при помощи своих ключей доступа (исключается шаг № 1).\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"oauth-есnи-нужно-поnучить-данные-о-поnьзоватеnе\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#oauth-есnи-нужно-поnучить-данные-о-поnьзоватеnе\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" OAuth: если нужно получить данные о пользователе\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[e(\"p\",[this._v(\"Зачастую API сервера ресурсов включает операцию, предоставляющую информацию о самом пользователе (например, /me в Facebook API). Приложение может выполнять эту операцию каждый раз после получения токена для идентификации клиента. Такой метод иногда называют псевдо-аутентификацией.\")])]),this._v(\" \"),e(\"li\",[e(\"p\",[this._v(\"Использовать стандарт \"),e(\"strong\",[this._v(\"OpenID Connect\")]),this._v(\", разработанный как слой учетных данных поверх OAuth (опубликован в 2014 г.). В соответствии с этим стандартом, сервер авторизации предоставляет дополнительный identity token на шаге № 2. Этот токен в формате JWT будет содержать набор определенных полей (claims) с информацией о пользователе.\")])])])}],!1,null,null,null);e.default=a.exports}}]);","extractedComments":[]}